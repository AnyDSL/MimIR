// RUN: %thorin %s -o -
.plugin core;
.plugin fun;
.plugin refly;

.let a = (
    (0:%core.I32, 1:%core.I32,  2:%core.I32),
    (3:%core.I32, 4:%core.I32,  5:%core.I32)
);
.let b = (
    (6:%core.I32,  7:%core.I32,  8:%core.I32),
    (9:%core.I32, 10:%core.I32, 11:%core.I32)
);

.let z = %fun.zip    (2, (2, 3), 2, ‹2; %core.I32›, 1, %core.I32) (%core.wrap.add 0) (a, b);
.let m = %fun.map    (2, (2, 3), 2, ‹2; %core.I32›, %core.I32) (%core.wrap.add 0) (a, b);
.let r = %fun.reduce (2, (2, 3), 1, %core.I32) (%core.wrap.add 0) (a, 0:%core.I32, (.tt, .ff));
.let _ = %refly.dbg.tmp (%refly.info, r);
