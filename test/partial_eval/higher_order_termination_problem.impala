fn range(a : int, b : int, yield : fn(int, fn())) -> void {
    let mut i: int = a;
    while (i < b)
        yield(i++, || { continue; });
}

fn f(x: int, y: int, terminate: fn(int)) -> int {
    let mut result = 0;
    for (let mut i = 0; i < 10; i = (i+1) % 5) {
        result += i;
        if (i == 3)
            terminate(result);
    }
    return result;
}

fn main(x: int, y: int, ret: fn(int)) {
    return @f(x, y, $ret);
}
