/*
foreach without float
*/
fn count(n : float, yield : fn(float, fn()), ret : fn()) {
    fn loop(i : float) {
        if (i < n)
            yield(i, || { loop(i+1.0f); });
        else
            ret();
    }
    loop(0.0f);
}

fn main() -> float {
    let mut b : float = 2.0f;
    foreach count(10.0f)  |x : float| -> void {
        b += x;
    }

    let mut x : float = 42.0f;
    foreach count(10.0f)  |x : float| -> void {
        b += x;
    }

    return b;
}
