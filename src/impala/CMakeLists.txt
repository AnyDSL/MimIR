SET ( EXECUTABLE_NAME exe_impala )
SET ( LIBRARY_NAME lib_impala )

# get source files
FILE ( GLOB SOURCES *.cpp *.h )
FILE ( GLOB MAIN main.cpp )
LIST (REMOVE_ITEM SOURCES ${MAIN})

# create executable
get_thorin_dependency_libs( THORIN_LIBS )

ADD_LIBRARY ( ${LIBRARY_NAME} STATIC ${SOURCES} )
TARGET_LINK_LIBRARIES ( ${LIBRARY_NAME} ${THORIN_LIBS} thorin )
ADD_DEPENDENCIES ( ${LIBRARY_NAME} thorin )

ADD_EXECUTABLE( ${EXECUTABLE_NAME} ${MAIN} )
TARGET_LINK_LIBRARIES ( ${EXECUTABLE_NAME} ${THORIN_LIBS} lib_impala thorin )
ADD_DEPENDENCIES ( ${EXECUTABLE_NAME} thorin lib_impala )

SET_TARGET_PROPERTIES(exe_impala PROPERTIES OUTPUT_NAME impala)
SET_TARGET_PROPERTIES(lib_impala PROPERTIES OUTPUT_NAME impala)

