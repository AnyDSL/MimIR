CMAKE_MINIMUM_REQUIRED(VERSION 2.8.1 FATAL_ERROR)

# limit configuration types (must be done before project() statement)
SET(CMAKE_CONFIGURATION_TYPES "Debug;Release" CACHE STRING "limited config" FORCE)

PROJECT(anydslexp)

# project sources
SET(PROJ_ROOT_DIR				${CMAKE_CURRENT_SOURCE_DIR})
SET(PROJ_SOURCE_DIR				${PROJ_ROOT_DIR}/src)
# SET(PROJ_SAMPLE_DIR				${PROJ_ROOT_DIR}/sample)
SET(PROJ_CMAKE_MODULE_DIR		${PROJ_ROOT_DIR}/cmake_modules)

SET(PROJ_BINARY_DIR				"bin")
SET(PROJ_LIBRARY_DIR			"lib")
SET(PROJ_INCLUDE_DIR			"include")

SET(PROJ_NAME					${PROJECT_NAME})
STRING(TOUPPER ${PROJ_NAME} PROJ_PREFIX)

INCLUDE(${PROJ_CMAKE_MODULE_DIR}/common.cmake)

#retrieve_system(SYSTEM_SUFFIX)

SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY          ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR})
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY_DEBUG    ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR})
SET(CMAKE_RUNTIME_OUTPUT_DIRECTORY_RELEASE  ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR})
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY          ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR})
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY_DEBUG    ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR})
SET(CMAKE_LIBRARY_OUTPUT_DIRECTORY_RELEASE  ${CMAKE_BINARY_DIR}/${PROJ_BINARY_DIR})
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY          ${CMAKE_BINARY_DIR}/${PROJ_LIBRARY_DIR})
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_DEBUG    ${CMAKE_BINARY_DIR}/${PROJ_LIBRARY_DIR})
SET(CMAKE_ARCHIVE_OUTPUT_DIRECTORY_RELEASE  ${CMAKE_BINARY_DIR}/${PROJ_LIBRARY_DIR})

SET(CMAKE_MODULE_PATH               ${PROJ_CMAKE_MODULE_DIR} ${CMAKE_MODULE_PATH})
SET(CMAKE_DEBUG_POSTFIX             "d")



# INCLUDE(${PROJ_CMAKE_MODULE_DIR}/version.cmake)

# FIND_PACKAGE(HGConstants)
# HG_ReadConstants(${PROJ_ROOT_DIR})

# SET(PROJ_VERSION_BUILD ${HGREV})



# SET(CPACK_GENERATOR "ZIP")
# SET(CPACK_SOURCE_GENERATOR "ZIP")
# SET(CPACK_PACKAGE_VERSION_MAJOR ${PROJ_VERSION_MAJOR})
# SET(CPACK_PACKAGE_VERSION_MINOR ${PROJ_VERSION_MINOR})
# SET(CPACK_PACKAGE_VERSION_PATCH ${PROJ_VERSION_PATCH})
# SET(CPACK_INSTALL_DIRECTORIES ${CMAKE_RUNTIME_OUTPUT_DIRECTORY})
# SET(CPACK_IGNORE_FILES "/.pdb/;/.ilk/;/\\.svn/;/\\.hg/;/\\.git/;\\.swp$;\\.#;/#")
# SET(CPACK_OUTPUT_FILE_PREFIX ${CMAKE_SOURCE_DIR})

# IF (HGBRANCH STREQUAL "default")
	# SET(PROJ_PACKAGE_SUFFIX "-r${PROJ_VERSION_BUILD}")
# ELSE (HGBRANCH STREQUAL "default")
	# SET(PROJ_PACKAGE_SUFFIX "-${HGBRANCH}-r${PROJ_VERSION_BUILD}")
# ENDIF (HGBRANCH STREQUAL "default")
	
	
# SET(CPACK_OUTPUT_FILE_SUFFIX ${PROJ_PACKAGE_SUFFIX})
# INCLUDE(CPack)

# INSTALL(FILES
	# anydslexp-config.cmake
	# doxyfile
	# DESTINATION .
# )

# INSTALL(FILES
	# ${PROJ_CMAKE_MODULE_DIR}/version.cmake
	# DESTINATION cmake_modules
# )


# add_build_mp_option(${PROJ_PREFIX})



# ADD_SUBDIRECTORY(${PROJ_3RDPARTY_DIR})
ADD_SUBDIRECTORY(${PROJ_SOURCE_DIR})
# ADD_SUBDIRECTORY(${PROJ_SAMPLE_DIR})

